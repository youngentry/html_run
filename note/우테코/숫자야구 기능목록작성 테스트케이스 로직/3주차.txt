3주차에서 새롭게 추가된 요구 사항은 private를 이용해야 한다는 것과 도메인 로직에 대한 단위 테스트를 구현해야 하는 것이었습니다. 둘 다 처음 접하는 개념이었기 때문에 설계를 하기 전 개념을 이해하는 것이 필요했습니다. private를 외부에서는 이용할 수 없다는 점에 집중하여 가장 중요한 문제는 Lotto.js에서 해결해야 한다는 것, 그리고 이러한 중요한 로직이 바로 도메인 로직이라는 것을 알 수 있었습니다.

이번 주차의 개인적인 목표는 클래스 분리였습니다.
2주차의 과제를 수행하며 한 클래스는 하나의 책임만을 갖게 하는 것이 코드를 이해하기 쉽게 한다는 것과, 함수가 한 가지 일만 할 수 있도록 작게 만드는 과정이 수월해진다는 것을 느낄 수 있었습니다. 다른 사람들의 코드를 살펴 보면서 어떻게 코드를 구현하는지 골똘히 생각을 해 보지만 여전히 정확하게 한 가지 일을 수행한다는 것이 무엇인지, 제가 짠 코드가 한 가지 일을 수행하고 있는 것인지 아닌지를 확신할 수가 없습니다. 이 부분이 이번 과제를 수행하며 가장 공부하고 싶어진 부분이 아닌가 생각합니다.

그리고 또 다른 목표를 순수함수를 최대한 시도하기입니다. 단위테스트를 공부하며 순수함수를 구현하는 것에 대한 중요성을 알게 되었습니다. 순수함수는 외부의 값을 변경하지 않는 모둘화 수준이 높은 코드이고, 이는 말 그대로 단위적인 테스트에 필수 개념이었습니다. 이러한 코드를 아름답다고 생각하기도 했기 때문에 객체지향 뿐만 아니라 함수형 프로그래밍에 대해서도 깊게 찾아보게 되는 시간이었습니다. 하지만 개념을 읽어보는 것과 실제로 코드를 짜는 것에는 큰 괴리감이 있었습니다. 무엇보다 이 코드가 올바른 객체지향이고 순수함수인지 구분을 할 수 있는 능력이 부족하기 때문인 것 같습니다. 이러한 불편함을 느낄 때마다 언제든 마음 편하게 물어볼 사람이 주변에 없다는 것이 아쉽습니다. 

테스트케이스를 작성하면서 가장 내가 하고 있는 이것이 맞나 싶은 느낌을 받았습니다. 테스트케이스의 목적을 아무리 읽어봐도 딱 이거다 하는 느낌을 받지 못했었습니다. 그러다가 주변 람에게 로또 추첨 프로그램을 보여줄 때 왜 3등은 당첨이 안되냐는 물음을 받고 깜짝 놀랐었습니다. 10억원을 추첨해도 정말로 3등은 0회 당첨되었기 때문이었습니다. 제출 마지막 날에 발견한 오류였기 때문에 정말 당황스러웠습니다. 하지만 이때 당황한 만큼 테스트케이스는 왜 필요한 것이며 단위 테스트를 작성하는 이유에 대해 알게 되었습니다. 단위 테스트를 하는 과정에서 작은 단위에서 발생한 버그를 다른 함수를 수정하지 않고 오로지 하나의 함수 안에서 수정할 수 있다는 것은 엄청난 효율성에 대한 경험이었습니다. 또한 코드의 구성과 결함에 대해 몇 번이나 다시 생각해보게 되고 이는 코드의 완성도를 더 높이는 훌륭한 수단이 되어주었습니다. 오류가 발생하면 오류를 해결하고 나서도 어떻게 코드를 더 잘게 나눌지, 책임을 어디에 줄지에 대해 생각하게 되는 등 이제는 오히려 테스트케이스를 통해서 오류가 발생하지 않으면 아쉬울 정도로 성장의 발판이 아니었나 느꼈습니다.

매주 우테코 프리코스를 시작하기 전과 비교를 하게 됩니다. 짧은 시간이지만 정말 밀도있게 공부할 수 있었어요. 처음 설정한 마지막 테스트까지 통과라는 목표까지 한 발 더 내딛을 수 있게 되어 기쁩니다.